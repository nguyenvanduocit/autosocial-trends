---
source: trendshift
title: twitter/the-algorithm
url: https://github.com/twitter/the-algorithm
date: 2025-12-27
---

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftwitter%2Fthe-algorithm)

Appearance settings

* Platform

  + AI CODE CREATION
    - [GitHub CopilotWrite better code with AI](https://github.com/features/copilot)
    - [GitHub SparkBuild and deploy intelligent apps](https://github.com/features/spark)
    - [GitHub ModelsManage and compare prompts](https://github.com/features/models)
    - [MCP RegistryNewIntegrate external tools](https://github.com/mcp)
  + DEVELOPER WORKFLOWS
    - [ActionsAutomate any workflow](https://github.com/features/actions)
    - [CodespacesInstant dev environments](https://github.com/features/codespaces)
    - [IssuesPlan and track work](https://github.com/features/issues)
    - [Code ReviewManage code changes](https://github.com/features/code-review)
  + APPLICATION SECURITY
    - [GitHub Advanced SecurityFind and fix vulnerabilities](https://github.com/security/advanced-security)
    - [Code securitySecure your code as you build](https://github.com/security/advanced-security/code-security)
    - [Secret protectionStop leaks before they start](https://github.com/security/advanced-security/secret-protection)
  + EXPLORE
    - [Why GitHub](https://github.com/why-github)
    - [Documentation](https://docs.github.com)
    - [Blog](https://github.blog)
    - [Changelog](https://github.blog/changelog)
    - [Marketplace](https://github.com/marketplace)

  [View all features](https://github.com/features)
* Solutions

  + BY COMPANY SIZE
    - [Enterprises](https://github.com/enterprise)
    - [Small and medium teams](https://github.com/team)
    - [Startups](https://github.com/enterprise/startups)
    - [Nonprofits](https://github.com/solutions/industry/nonprofits)
  + BY USE CASE
    - [App Modernization](https://github.com/solutions/use-case/app-modernization)
    - [DevSecOps](https://github.com/solutions/use-case/devsecops)
    - [DevOps](https://github.com/solutions/use-case/devops)
    - [CI/CD](https://github.com/solutions/use-case/ci-cd)
    - [View all use cases](https://github.com/solutions/use-case)
  + BY INDUSTRY
    - [Healthcare](https://github.com/solutions/industry/healthcare)
    - [Financial services](https://github.com/solutions/industry/financial-services)
    - [Manufacturing](https://github.com/solutions/industry/manufacturing)
    - [Government](https://github.com/solutions/industry/government)
    - [View all industries](https://github.com/solutions/industry)

  [View all solutions](https://github.com/solutions)
* Resources

  + EXPLORE BY TOPIC
    - [AI](https://github.com/resources/articles?topic=ai)
    - [Software Development](https://github.com/resources/articles?topic=software-development)
    - [DevOps](https://github.com/resources/articles?topic=devops)
    - [Security](https://github.com/resources/articles?topic=security)
    - [View all topics](https://github.com/resources/articles)
  + EXPLORE BY TYPE
    - [Customer stories](https://github.com/customer-stories)
    - [Events & webinars](https://github.com/resources/events)
    - [Ebooks & reports](https://github.com/resources/whitepapers)
    - [Business insights](https://github.com/solutions/executive-insights)
    - [GitHub Skills](https://skills.github.com)
  + SUPPORT & SERVICES
    - [Documentation](https://docs.github.com)
    - [Customer support](https://support.github.com)
    - [Community forum](https://github.com/orgs/community/discussions)
    - [Trust center](https://github.com/trust-center)
    - [Partners](https://github.com/partners)
* Open Source

  + COMMUNITY
    - [GitHub SponsorsFund open source developers](https://github.com/sponsors)
  + PROGRAMS
    - [Security Lab](https://securitylab.github.com)
    - [Maintainer Community](https://maintainers.github.com)
    - [Accelerator](https://github.com/accelerator)
    - [Archive Program](https://archiveprogram.github.com)
  + REPOSITORIES
    - [Topics](https://github.com/topics)
    - [Trending](https://github.com/trending)
    - [Collections](https://github.com/collections)
* Enterprise

  + ENTERPRISE SOLUTIONS
    - [Enterprise platformAI-powered developer platform](https://github.com/enterprise)
  + AVAILABLE ADD-ONS
    - [GitHub Advanced SecurityEnterprise-grade security features](https://github.com/security/advanced-security)
    - [Copilot for BusinessEnterprise-grade AI features](https://github.com/features/copilot/copilot-business)
    - [Premium SupportEnterprise-grade 24/7 support](https://github.com/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

[ ]
Include my email address so I can be contacted

Cancel
 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Cancel
 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftwitter%2Fthe-algorithm)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=twitter%2Fthe-algorithm)

Appearance settings

Resetting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[twitter](/twitter)
/
**[the-algorithm](/twitter/the-algorithm)**
Public

* [Notifications](/login?return_to=%2Ftwitter%2Fthe-algorithm) You must be signed in to change notification settings
* [Fork
  12.7k](/login?return_to=%2Ftwitter%2Fthe-algorithm)
* [Star
   68.9k](/login?return_to=%2Ftwitter%2Fthe-algorithm)

Source code for the X Recommendation Algorithm

[blog.twitter.com/engineering/en\_us/topics/open-source/2023/twitter-recommendation-algorithm](https://blog.twitter.com/engineering/en_us/topics/open-source/2023/twitter-recommendation-algorithm "https://blog.twitter.com/engineering/en_us/topics/open-source/2023/twitter-recommendation-algorithm")

### License

[AGPL-3.0 license](/twitter/the-algorithm/blob/main/COPYING)

[68.9k
stars](/twitter/the-algorithm/stargazers) [12.7k
forks](/twitter/the-algorithm/forks) [Branches](/twitter/the-algorithm/branches) [Tags](/twitter/the-algorithm/tags) [Activity](/twitter/the-algorithm/activity)

[Star](/login?return_to=%2Ftwitter%2Fthe-algorithm)

[Notifications](/login?return_to=%2Ftwitter%2Fthe-algorithm) You must be signed in to change notification settings

* [Code](/twitter/the-algorithm)
* [Issues
  299](/twitter/the-algorithm/issues)
* [Pull requests
  185](/twitter/the-algorithm/pulls)
* [Actions](/twitter/the-algorithm/actions)
* [Security

  ### Uh oh!

  There was an error while loading. Please reload this page.](/twitter/the-algorithm/security)
* [Insights](/twitter/the-algorithm/pulse)

Additional navigation options

* [Code](/twitter/the-algorithm)
* [Issues](/twitter/the-algorithm/issues)
* [Pull requests](/twitter/the-algorithm/pulls)
* [Actions](/twitter/the-algorithm/actions)
* [Security](/twitter/the-algorithm/security)
* [Insights](/twitter/the-algorithm/pulse)

# twitter/the-algorithm

main

[Branches](/twitter/the-algorithm/branches)[Tags](/twitter/the-algorithm/tags)

Go to file

Code

Open more actions menu

## Folders and files

| Name | | Name | Last commit message | Last commit date |
| --- | --- | --- | --- | --- |
| Latest commit   History[31 Commits](/twitter/the-algorithm/commits/main/) | | |
| [ann/src/main](/twitter/the-algorithm/tree/main/ann/src/main "This path skips through empty directories") | | [ann/src/main](/twitter/the-algorithm/tree/main/ann/src/main "This path skips through empty directories") |  |  |
| [ci](/twitter/the-algorithm/tree/main/ci "ci") | | [ci](/twitter/the-algorithm/tree/main/ci "ci") |  |  |
| [cr-mixer](/twitter/the-algorithm/tree/main/cr-mixer "cr-mixer") | | [cr-mixer](/twitter/the-algorithm/tree/main/cr-mixer "cr-mixer") |  |  |
| [docs](/twitter/the-algorithm/tree/main/docs "docs") | | [docs](/twitter/the-algorithm/tree/main/docs "docs") |  |  |
| [follow-recommendations-service](/twitter/the-algorithm/tree/main/follow-recommendations-service "follow-recommendations-service") | | [follow-recommendations-service](/twitter/the-algorithm/tree/main/follow-recommendations-service "follow-recommendations-service") |  |  |
| [graph-feature-service](/twitter/the-algorithm/tree/main/graph-feature-service "graph-feature-service") | | [graph-feature-service](/twitter/the-algorithm/tree/main/graph-feature-service "graph-feature-service") |  |  |
| [home-mixer](/twitter/the-algorithm/tree/main/home-mixer "home-mixer") | | [home-mixer](/twitter/the-algorithm/tree/main/home-mixer "home-mixer") |  |  |
| [navi](/twitter/the-algorithm/tree/main/navi "navi") | | [navi](/twitter/the-algorithm/tree/main/navi "navi") |  |  |
| [product-mixer](/twitter/the-algorithm/tree/main/product-mixer "product-mixer") | | [product-mixer](/twitter/the-algorithm/tree/main/product-mixer "product-mixer") |  |  |
| [pushservice](/twitter/the-algorithm/tree/main/pushservice "pushservice") | | [pushservice](/twitter/the-algorithm/tree/main/pushservice "pushservice") |  |  |
| [recos-injector](/twitter/the-algorithm/tree/main/recos-injector "recos-injector") | | [recos-injector](/twitter/the-algorithm/tree/main/recos-injector "recos-injector") |  |  |
| [representation-manager](/twitter/the-algorithm/tree/main/representation-manager "representation-manager") | | [representation-manager](/twitter/the-algorithm/tree/main/representation-manager "representation-manager") |  |  |
| [representation-scorer](/twitter/the-algorithm/tree/main/representation-scorer "representation-scorer") | | [representation-scorer](/twitter/the-algorithm/tree/main/representation-scorer "representation-scorer") |  |  |
| [science/search/ingester/config](/twitter/the-algorithm/tree/main/science/search/ingester/config "This path skips through empty directories") | | [science/search/ingester/config](/twitter/the-algorithm/tree/main/science/search/ingester/config "This path skips through empty directories") |  |  |
| [simclusters-ann](/twitter/the-algorithm/tree/main/simclusters-ann "simclusters-ann") | | [simclusters-ann](/twitter/the-algorithm/tree/main/simclusters-ann "simclusters-ann") |  |  |
| [src](/twitter/the-algorithm/tree/main/src "src") | | [src](/twitter/the-algorithm/tree/main/src "src") |  |  |
| [timelineranker](/twitter/the-algorithm/tree/main/timelineranker "timelineranker") | | [timelineranker](/twitter/the-algorithm/tree/main/timelineranker "timelineranker") |  |  |
| [timelines/data\_processing](/twitter/the-algorithm/tree/main/timelines/data_processing "This path skips through empty directories") | | [timelines/data\_processing](/twitter/the-algorithm/tree/main/timelines/data_processing "This path skips through empty directories") |  |  |
| [topic-social-proof](/twitter/the-algorithm/tree/main/topic-social-proof "topic-social-proof") | | [topic-social-proof](/twitter/the-algorithm/tree/main/topic-social-proof "topic-social-proof") |  |  |
| [trust\_and\_safety\_models](/twitter/the-algorithm/tree/main/trust_and_safety_models "trust_and_safety_models") | | [trust\_and\_safety\_models](/twitter/the-algorithm/tree/main/trust_and_safety_models "trust_and_safety_models") |  |  |
| [tweet-mixer/server/src/main/scala/com/twitter/tweet\_mixer](/twitter/the-algorithm/tree/main/tweet-mixer/server/src/main/scala/com/twitter/tweet_mixer "This path skips through empty directories") | | [tweet-mixer/server/src/main/scala/com/twitter/tweet\_mixer](/twitter/the-algorithm/tree/main/tweet-mixer/server/src/main/scala/com/twitter/tweet_mixer "This path skips through empty directories") |  |  |
| [tweetypie](/twitter/the-algorithm/tree/main/tweetypie "tweetypie") | | [tweetypie](/twitter/the-algorithm/tree/main/tweetypie "tweetypie") |  |  |
| [twml](/twitter/the-algorithm/tree/main/twml "twml") | | [twml](/twitter/the-algorithm/tree/main/twml "twml") |  |  |
| [unified\_user\_actions](/twitter/the-algorithm/tree/main/unified_user_actions "unified_user_actions") | | [unified\_user\_actions](/twitter/the-algorithm/tree/main/unified_user_actions "unified_user_actions") |  |  |
| [user-signal-service](/twitter/the-algorithm/tree/main/user-signal-service "user-signal-service") | | [user-signal-service](/twitter/the-algorithm/tree/main/user-signal-service "user-signal-service") |  |  |
| [visibilitylib](/twitter/the-algorithm/tree/main/visibilitylib "visibilitylib") | | [visibilitylib](/twitter/the-algorithm/tree/main/visibilitylib "visibilitylib") |  |  |
| [.gitignore](/twitter/the-algorithm/blob/main/.gitignore ".gitignore") | | [.gitignore](/twitter/the-algorithm/blob/main/.gitignore ".gitignore") |  |  |
| [COPYING](/twitter/the-algorithm/blob/main/COPYING "COPYING") | | [COPYING](/twitter/the-algorithm/blob/main/COPYING "COPYING") |  |  |
| [README.md](/twitter/the-algorithm/blob/main/README.md "README.md") | | [README.md](/twitter/the-algorithm/blob/main/README.md "README.md") |  |  |
| [RETREIVAL\_SIGNALS.md](/twitter/the-algorithm/blob/main/RETREIVAL_SIGNALS.md "RETREIVAL_SIGNALS.md") | | [RETREIVAL\_SIGNALS.md](/twitter/the-algorithm/blob/main/RETREIVAL_SIGNALS.md "RETREIVAL_SIGNALS.md") |  |  |
| View all files | | |

## Repository files navigation

* README
* Code of conduct
* AGPL-3.0 license
* Security

# X's Recommendation Algorithm

X's Recommendation Algorithm is a set of services and jobs that are responsible for serving feeds of posts and other content across all X product surfaces (e.g. For You Timeline, Search, Explore, Notifications). For an introduction to how the algorithm works, please refer to our [engineering blog](https://blog.x.com/engineering/en_us/topics/open-source/2023/twitter-recommendation-algorithm).

## Architecture

Product surfaces at X are built on a shared set of data, models, and software frameworks. The shared components included in this repository are listed below:

| Type | Component | Description |
| --- | --- | --- |
| Data | [tweetypie](/twitter/the-algorithm/blob/main/tweetypie/server/README.md) | Core service that handles the reading and writing of post data. |
|  | [unified-user-actions](/twitter/the-algorithm/blob/main/unified_user_actions/README.md) | Real-time stream of user actions on X. |
|  | [user-signal-service](/twitter/the-algorithm/blob/main/user-signal-service/README.md) | Centralized platform to retrieve explicit (e.g. likes, replies) and implicit (e.g. profile visits, tweet clicks) user signals. |
| Model | [SimClusters](/twitter/the-algorithm/blob/main/src/scala/com/twitter/simclusters_v2/README.md) | Community detection and sparse embeddings into those communities. |
|  | [TwHIN](https://github.com/twitter/the-algorithm-ml/blob/main/projects/twhin/README.md) | Dense knowledge graph embeddings for Users and Posts. |
|  | [trust-and-safety-models](/twitter/the-algorithm/blob/main/trust_and_safety_models/README.md) | Models for detecting NSFW or abusive content. |
|  | [real-graph](/twitter/the-algorithm/blob/main/src/scala/com/twitter/interaction_graph/README.md) | Model to predict the likelihood of an X User interacting with another User. |
|  | [tweepcred](/twitter/the-algorithm/blob/main/src/scala/com/twitter/graph/batch/job/tweepcred/README) | Page-Rank algorithm for calculating X User reputation. |
|  | [recos-injector](/twitter/the-algorithm/blob/main/recos-injector/README.md) | Streaming event processor for building input streams for [GraphJet](https://github.com/twitter/GraphJet) based services. |
|  | [graph-feature-service](/twitter/the-algorithm/blob/main/graph-feature-service/README.md) | Serves graph features for a directed pair of users (e.g. how many of User A's following liked posts from User B). |
|  | [topic-social-proof](/twitter/the-algorithm/blob/main/topic-social-proof/README.md) | Identifies topics related to individual posts. |
|  | [representation-scorer](/twitter/the-algorithm/blob/main/representation-scorer/README.md) | Compute scores between pairs of entities (Users, Posts, etc.) using embedding similarity. |
| Software framework | [navi](/twitter/the-algorithm/blob/main/navi/README.md) | High performance, machine learning model serving written in Rust. |
|  | [product-mixer](/twitter/the-algorithm/blob/main/product-mixer/README.md) | Software framework for building feeds of content. |
|  | [timelines-aggregation-framework](/twitter/the-algorithm/blob/main/timelines/data_processing/ml_util/aggregation_framework/README.md) | Framework for generating aggregate features in batch or real time. |
|  | [representation-manager](/twitter/the-algorithm/blob/main/representation-manager/README.md) | Service to retrieve embeddings (i.e. SimClusers and TwHIN). |
|  | [twml](/twitter/the-algorithm/blob/main/twml/README.md) | Legacy machine learning framework built on TensorFlow v1. |

The product surfaces currently included in this repository are the For You Timeline and Recommended Notifications.

### For You Timeline

The diagram below illustrates how major services and jobs interconnect to construct a For You Timeline.

[![](/twitter/the-algorithm/raw/main/docs/system-diagram.png)](/twitter/the-algorithm/blob/main/docs/system-diagram.png)

The core components of the For You Timeline included in this repository are listed below:

| Type | Component | Description |
| --- | --- | --- |
| Candidate Source | [search-index](/twitter/the-algorithm/blob/main/src/java/com/twitter/search/README.md) | Find and rank In-Network posts. ~50% of posts come from this candidate source. |
|  | [tweet-mixer](/twitter/the-algorithm/blob/main/tweet-mixer) | Coordination layer for fetching Out-of-Network tweet candidates from underlying compute services. |
|  | [user-tweet-entity-graph](/twitter/the-algorithm/blob/main/src/scala/com/twitter/recos/user_tweet_entity_graph/README.md) (UTEG) | Maintains an in memory User to Post interaction graph, and finds candidates based on traversals of this graph. This is built on the [GraphJet](https://github.com/twitter/GraphJet) framework. Several other GraphJet based features and candidate sources are located [here](/twitter/the-algorithm/blob/main/src/scala/com/twitter/recos). |
|  | [follow-recommendation-service](/twitter/the-algorithm/blob/main/follow-recommendations-service/README.md) (FRS) | Provides Users with recommendations for accounts to follow, and posts from those accounts. |
| Ranking | [light-ranker](/twitter/the-algorithm/blob/main/src/python/twitter/deepbird/projects/timelines/scripts/models/earlybird/README.md) | Light Ranker model used by search index (Earlybird) to rank posts. |
|  | [heavy-ranker](https://github.com/twitter/the-algorithm-ml/blob/main/projects/home/recap/README.md) | Neural network for ranking candidate posts. One of the main signals used to select timeline posts post candidate sourcing. |
| Post mixing & filtering | [home-mixer](/twitter/the-algorithm/blob/main/home-mixer/README.md) | Main service used to construct and serve the Home Timeline. Built on [product-mixer](/twitter/the-algorithm/blob/main/product-mixer/README.md). |
|  | [visibility-filters](/twitter/the-algorithm/blob/main/visibilitylib/README.md) | Responsible for filtering X content to support legal compliance, improve product quality, increase user trust, protect revenue through the use of hard-filtering, visible product treatments, and coarse-grained downranking. |
|  | [timelineranker](/twitter/the-algorithm/blob/main/timelineranker/README.md) | Legacy service which provides relevance-scored posts from the Earlybird Search Index and UTEG service. |

### Recommended Notifications

The core components of Recommended Notifications included in this repository are listed below:

| Type | Component | Description |
| --- | --- | --- |
| Service | [pushservice](/twitter/the-algorithm/blob/main/pushservice/README.md) | Main recommendation service at X used to surface recommendations to our users via notifications. |
| Ranking | [pushservice-light-ranker](/twitter/the-algorithm/blob/main/pushservice/src/main/python/models/light_ranking/README.md) | Light Ranker model used by pushservice to rank posts. Bridges candidate generation and heavy ranking by pre-selecting highly-relevant candidates from the initial huge candidate pool. |
|  | [pushservice-heavy-ranker](/twitter/the-algorithm/blob/main/pushservice/src/main/python/models/heavy_ranking/README.md) | Multi-task learning model to predict the probabilities that the target users will open and engage with the sent notifications. |

## Build and test code

We include Bazel BUILD files for most components, but not a top-level BUILD or WORKSPACE file. We plan to add a more complete build and test system in the future.

## Contributing

We invite the community to submit GitHub issues and pull requests for suggestions on improving the recommendation algorithm. We are working on tools to manage these suggestions and sync changes to our internal repository. Any security concerns or issues should be routed to our official [bug bounty program](https://hackerone.com/x) through HackerOne. We hope to benefit from the collective intelligence and expertise of the global community in helping us identify issues and suggest improvements, ultimately leading to a better X.

Read our blog on the open source initiative [here](https://blog.x.com/en_us/topics/company/2023/a-new-era-of-transparency-for-twitter).

## About

Source code for the X Recommendation Algorithm

[blog.twitter.com/engineering/en\_us/topics/open-source/2023/twitter-recommendation-algorithm](https://blog.twitter.com/engineering/en_us/topics/open-source/2023/twitter-recommendation-algorithm "https://blog.twitter.com/engineering/en_us/topics/open-source/2023/twitter-recommendation-algorithm")

### Resources

[Readme](#readme-ov-file)

### License

[AGPL-3.0 license](#AGPL-3.0-1-ov-file)

### Code of conduct

[Code of conduct](#coc-ov-file)

### Security policy

[Security policy](#security-ov-file)

### Uh oh!

There was an error while loading. Please reload this page.

[Activity](/twitter/the-algorithm/activity)

[Custom properties](/twitter/the-algorithm/custom-properties)

### Stars

[**68.9k**
stars](/twitter/the-algorithm/stargazers)

### Watchers

[**379**
watching](/twitter/the-algorithm/watchers)

### Forks

[**12.7k**
forks](/twitter/the-algorithm/forks)

[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Ftwitter%2Fthe-algorithm&report=twitter+%28user%29)

### Uh oh!

There was an error while loading. Please reload this page.

## [Contributors 3](/twitter/the-algorithm/graphs/contributors)

### Uh oh!

There was an error while loading. Please reload this page.

## Languages

* [Scala
  66.4%](/twitter/the-algorithm/search?l=scala)
* [Java
  19.7%](/twitter/the-algorithm/search?l=java)
* [Starlark
  5.5%](/twitter/the-algorithm/search?l=starlark)
* [Python
  3.5%](/twitter/the-algorithm/search?l=python)
* [Thrift
  2.1%](/twitter/the-algorithm/search?l=thrift)
* [C++
  1.6%](/twitter/the-algorithm/search?l=c%2B%2B)
* Other
  1.2%

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Community](https://github.community/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.
