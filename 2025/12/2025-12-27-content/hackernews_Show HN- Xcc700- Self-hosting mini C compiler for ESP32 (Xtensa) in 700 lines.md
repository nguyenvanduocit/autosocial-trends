---
source: hackernews
title: Show HN: Xcc700: Self-hosting mini C compiler for ESP32 (Xtensa) in 700 lines
url: https://github.com/valdanylchuk/xcc700
date: 2025-12-27
---

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fvaldanylchuk%2Fxcc700)

Appearance settings

* Platform

  + AI CODE CREATION
    - [GitHub CopilotWrite better code with AI](https://github.com/features/copilot)
    - [GitHub SparkBuild and deploy intelligent apps](https://github.com/features/spark)
    - [GitHub ModelsManage and compare prompts](https://github.com/features/models)
    - [MCP RegistryNewIntegrate external tools](https://github.com/mcp)
  + DEVELOPER WORKFLOWS
    - [ActionsAutomate any workflow](https://github.com/features/actions)
    - [CodespacesInstant dev environments](https://github.com/features/codespaces)
    - [IssuesPlan and track work](https://github.com/features/issues)
    - [Code ReviewManage code changes](https://github.com/features/code-review)
  + APPLICATION SECURITY
    - [GitHub Advanced SecurityFind and fix vulnerabilities](https://github.com/security/advanced-security)
    - [Code securitySecure your code as you build](https://github.com/security/advanced-security/code-security)
    - [Secret protectionStop leaks before they start](https://github.com/security/advanced-security/secret-protection)
  + EXPLORE
    - [Why GitHub](https://github.com/why-github)
    - [Documentation](https://docs.github.com)
    - [Blog](https://github.blog)
    - [Changelog](https://github.blog/changelog)
    - [Marketplace](https://github.com/marketplace)

  [View all features](https://github.com/features)
* Solutions

  + BY COMPANY SIZE
    - [Enterprises](https://github.com/enterprise)
    - [Small and medium teams](https://github.com/team)
    - [Startups](https://github.com/enterprise/startups)
    - [Nonprofits](https://github.com/solutions/industry/nonprofits)
  + BY USE CASE
    - [App Modernization](https://github.com/solutions/use-case/app-modernization)
    - [DevSecOps](https://github.com/solutions/use-case/devsecops)
    - [DevOps](https://github.com/solutions/use-case/devops)
    - [CI/CD](https://github.com/solutions/use-case/ci-cd)
    - [View all use cases](https://github.com/solutions/use-case)
  + BY INDUSTRY
    - [Healthcare](https://github.com/solutions/industry/healthcare)
    - [Financial services](https://github.com/solutions/industry/financial-services)
    - [Manufacturing](https://github.com/solutions/industry/manufacturing)
    - [Government](https://github.com/solutions/industry/government)
    - [View all industries](https://github.com/solutions/industry)

  [View all solutions](https://github.com/solutions)
* Resources

  + EXPLORE BY TOPIC
    - [AI](https://github.com/resources/articles?topic=ai)
    - [Software Development](https://github.com/resources/articles?topic=software-development)
    - [DevOps](https://github.com/resources/articles?topic=devops)
    - [Security](https://github.com/resources/articles?topic=security)
    - [View all topics](https://github.com/resources/articles)
  + EXPLORE BY TYPE
    - [Customer stories](https://github.com/customer-stories)
    - [Events & webinars](https://github.com/resources/events)
    - [Ebooks & reports](https://github.com/resources/whitepapers)
    - [Business insights](https://github.com/solutions/executive-insights)
    - [GitHub Skills](https://skills.github.com)
  + SUPPORT & SERVICES
    - [Documentation](https://docs.github.com)
    - [Customer support](https://support.github.com)
    - [Community forum](https://github.com/orgs/community/discussions)
    - [Trust center](https://github.com/trust-center)
    - [Partners](https://github.com/partners)
* Open Source

  + COMMUNITY
    - [GitHub SponsorsFund open source developers](https://github.com/sponsors)
  + PROGRAMS
    - [Security Lab](https://securitylab.github.com)
    - [Maintainer Community](https://maintainers.github.com)
    - [Accelerator](https://github.com/accelerator)
    - [Archive Program](https://archiveprogram.github.com)
  + REPOSITORIES
    - [Topics](https://github.com/topics)
    - [Trending](https://github.com/trending)
    - [Collections](https://github.com/collections)
* Enterprise

  + ENTERPRISE SOLUTIONS
    - [Enterprise platformAI-powered developer platform](https://github.com/enterprise)
  + AVAILABLE ADD-ONS
    - [GitHub Advanced SecurityEnterprise-grade security features](https://github.com/security/advanced-security)
    - [Copilot for BusinessEnterprise-grade AI features](https://github.com/features/copilot/copilot-business)
    - [Premium SupportEnterprise-grade 24/7 support](https://github.com/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

[ ]
Include my email address so I can be contacted

Cancel
 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Cancel
 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fvaldanylchuk%2Fxcc700)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=valdanylchuk%2Fxcc700)

Appearance settings

Resetting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[valdanylchuk](/valdanylchuk)
/
**[xcc700](/valdanylchuk/xcc700)**
Public

* [Notifications](/login?return_to=%2Fvaldanylchuk%2Fxcc700) You must be signed in to change notification settings
* [Fork
  1](/login?return_to=%2Fvaldanylchuk%2Fxcc700)
* [Star
   43](/login?return_to=%2Fvaldanylchuk%2Fxcc700)

mini C compiler for esp32

### License

[MIT license](/valdanylchuk/xcc700/blob/main/LICENSE)

[43
stars](/valdanylchuk/xcc700/stargazers) [1
fork](/valdanylchuk/xcc700/forks) [Branches](/valdanylchuk/xcc700/branches) [Tags](/valdanylchuk/xcc700/tags) [Activity](/valdanylchuk/xcc700/activity)

[Star](/login?return_to=%2Fvaldanylchuk%2Fxcc700)

[Notifications](/login?return_to=%2Fvaldanylchuk%2Fxcc700) You must be signed in to change notification settings

* [Code](/valdanylchuk/xcc700)
* [Issues
  0](/valdanylchuk/xcc700/issues)
* [Pull requests
  0](/valdanylchuk/xcc700/pulls)
* [Actions](/valdanylchuk/xcc700/actions)
* [Projects
  0](/valdanylchuk/xcc700/projects)
* [Security

  ### Uh oh!

  There was an error while loading. Please reload this page.](/valdanylchuk/xcc700/security)
* [Insights](/valdanylchuk/xcc700/pulse)

Additional navigation options

* [Code](/valdanylchuk/xcc700)
* [Issues](/valdanylchuk/xcc700/issues)
* [Pull requests](/valdanylchuk/xcc700/pulls)
* [Actions](/valdanylchuk/xcc700/actions)
* [Projects](/valdanylchuk/xcc700/projects)
* [Security](/valdanylchuk/xcc700/security)
* [Insights](/valdanylchuk/xcc700/pulse)

# valdanylchuk/xcc700

main

[Branches](/valdanylchuk/xcc700/branches)[Tags](/valdanylchuk/xcc700/tags)

Go to file

Code

Open more actions menu

## Folders and files

| Name | | Name | Last commit message | Last commit date |
| --- | --- | --- | --- | --- |
| Latest commit   History[3 Commits](/valdanylchuk/xcc700/commits/main/) | | |
| [release](/valdanylchuk/xcc700/tree/main/release "release") | | [release](/valdanylchuk/xcc700/tree/main/release "release") |  |  |
| [LICENSE](/valdanylchuk/xcc700/blob/main/LICENSE "LICENSE") | | [LICENSE](/valdanylchuk/xcc700/blob/main/LICENSE "LICENSE") |  |  |
| [Readme.md](/valdanylchuk/xcc700/blob/main/Readme.md "Readme.md") | | [Readme.md](/valdanylchuk/xcc700/blob/main/Readme.md "Readme.md") |  |  |
| [xcc700.c](/valdanylchuk/xcc700/blob/main/xcc700.c "xcc700.c") | | [xcc700.c](/valdanylchuk/xcc700/blob/main/xcc700.c "xcc700.c") |  |  |
| View all files | | |

## Repository files navigation

* README
* MIT license

# xcc700: Self-hosting mini C compiler for esp32 / Xtensa

## Why look into this project?

* A compiler you can fully grasp and tweak, on a modern platform where small is still cool.
* Basic features, not too entrenched, easy to morph into your language of choice.
* Reusable ELF writer, and a basic Xtensa bytecodes emitter.
* Possibly useful for hotfixes, CI, quick test/debug turnaround on esp32.

## Sample output

```
./xcc700 xcc700.c -o xcc700.elf

[ xcc700 ] BUILD COMPLETED > OK
> IN  : 700 Lines / 7977 Tokens
> SYM : 69 Funcs / 91 Globals
> REL : 152 Literals / 1027 Patches
> MEM : 1041 B .rodata / 17120 B .bss
> OUT : 27735 B .text / 33300 B ELF
[ 40 ms ] >> 17500 Lines/sec <<
```

Note: that timing is from esp32-s3. Timings on Mac/POSIX will be reported 1000x slower than they are, as on esp32 ticks are millisecond, and on POSIX microsecond, but there is no adjustment here.

## Video Demo

xcc700\_demo10s.mov

[
](https://private-user-images.githubusercontent.com/621005/530360936-2bbd4fd5-04f7-4890-abf0-5e7454345148.mov?jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NjY3OTQwNTcsIm5iZiI6MTc2Njc5Mzc1NywicGF0aCI6Ii82MjEwMDUvNTMwMzYwOTM2LTJiYmQ0ZmQ1LTA0ZjctNDg5MC1hYmYwLTVlNzQ1NDM0NTE0OC5tb3Y_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjUxMjI3JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI1MTIyN1QwMDAyMzdaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT0xZTI3ZjQ4YTZjOWQ3OTNkNDlhYWJlZGUzZTkyM2UyZDM3ZGYwMzUxZGExOGNlMmM5ZDQwZjdlODg2NWUwZWM1JlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.j3ME5hckhikgSwrQPpzF0AoHPgiBgi8knxWtUlRT34Q)

.

## How to run xcc700?

Several options:

**A.** Compile with `gcc xcc700.c` and run it on your computer as a cross-compiler. It is fairly portable, tested on Mac x86\_64 and arm64.

**B.** Compile for esp32 using xtensa-gcc or xcc700 from the option A (yes it can compile and cross-compile itself). Or grab the gcc-compiled version here: [xcc700.elf (16kB)](/valdanylchuk/xcc700/blob/main/release/xcc700.elf). Run with [ESP-IDF elf\_loader](https://components.espressif.com/components/espressif/elf_loader/).

**C.** Adapt the source code and call it as a function in your firmware.

## What is included?

* C features: minimum required to write something like this compiler. While loop, if/then/else, limited support for int/char/pointers/arrays, function calls and definitions, basic arithmetic and bitwise operators.
* Single source .c file as input, single REL ELF file as output.
* The output files can be run directly by the ESP-IDF elf\_loader component, which links them on load via relocation table to anything you have exposed in your firmware: newlib libc, LVGL, your custom functions, anything you like. Just declare the functions you use.

## What is missing?

* The rest of the C: for/do, include/define, long/float/double, struct/union/typedef, switch/case, array initializers, .data section, multi-line comments, too much to list.
* Many features are implemented only partially. E.g. you can have .bss globals but not global initializers; ++/-- are only supported in prefix position, assignment as statement not expression, types are mostly not checked, etc.
* Error handling and reporting. It is wildly optimistic, enforces nothing, has only a few error checks, and will crash in spectacular and unexpected ways on the most trivial errors.
* Optimization. It treats the Xtensa CPU as a stack machine, with no attempt at register allocation, and no benefit from the sliding window. It is a major sacrifice of performance for simplicity. GCC-compiled: 16kB, 17,500 lines/s; self-compiled: 33kB, 3,900 lines/s.
* Miss a feature? Just fork it! With a working foundation in only 700 lines, it is fairly easy to get started.

## License

This is free software under MIT License, see [LICENSE](/valdanylchuk/xcc700/blob/main/LICENSE).

## Contributing: Forks Welcome!

While I do not believe the world needs another C99 implementation, and do not intend to add features here, I am dead curious to see where the other creative minds can take a tiny self-hosting compiler on esp32.

If you organize hackathons, or assign coursework, or write tutorials, please consider xcc700 as a base to fork and extend! It can run on the available PCs, or on a $5 MCU if you want real cool hardware for the final test. Or you can port it to other systems, and use ld to link those ELF files.

## Why did I write this?

I was making an esp32 "cyberdeck", and thought it cool to build some binaries directly on it. Esp32 is underrated in userland. It can do everything a 90s PC could do and more.

You can also take this as an artistic statement, and ask yourself:

* How many Watts do you need to do fun/useful stuff on a computer?
* Isn't it nice to have simple, tinker-friendly versions of common apps?
* Do we really need 300MB mouse drivers?

Have fun!

## About

mini C compiler for esp32

### Resources

[Readme](#readme-ov-file)

### License

[MIT license](#MIT-1-ov-file)

### Uh oh!

There was an error while loading. Please reload this page.

[Activity](/valdanylchuk/xcc700/activity)

### Stars

[**43**
stars](/valdanylchuk/xcc700/stargazers)

### Watchers

[**0**
watching](/valdanylchuk/xcc700/watchers)

### Forks

[**1**
fork](/valdanylchuk/xcc700/forks)

[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fvaldanylchuk%2Fxcc700&report=valdanylchuk+%28user%29)

## [Releases](/valdanylchuk/xcc700/releases)

No releases published

## [Packages 0](/users/valdanylchuk/packages?repo_name=xcc700)

No packages published

## Languages

* [C
  100.0%](/valdanylchuk/xcc700/search?l=c)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Community](https://github.community/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.
